\documentclass[a4j]{jarticle}
\usepackage{listings}
\usepackage[dvipdfmx]{graphicx}
\usepackage[dvipdfmx]{xcolor}
\usepackage{listings}
\usepackage{here}
\usepackage{longtable}
\usepackage{ulem}
\usepackage{tabularx}
%\usepackage{color}
\newcommand{\ins}[1]{【追加】#1【/追加】}
\newcommand{\kome}{※}
\newcommand{\del}[1]{\sout{#1}}
\newcommand{\mod}[2]{\sout{#1}【変更】#2【/変更】}
\lstset{
basicstyle={\small\ttfamily},
frame={tblr},
breaklines=true,
numbers=left,
numberstyle={\scriptsize},
xleftmargin=4zw,
xrightmargin=4zw,
columns=[l]{fullflexible}
}

% 論文中で使う用語はなるべく定義する（あとでネーミングが気に食わないときに一括置き換え可能）
\newcommand{\yougo}{用語}
\title{動画配信サイトにおける有害コメントの検知}
\author{明星大学情報学部情報学科\\22J5-006  阿部優樹}
\date{\today}
\begin{document}


\maketitle
\thispagestyle{empty}
\newpage
\pagenumbering{roman}

\tableofcontents
\newpage
\pagenumbering{arabic}

\section{はじめに}
% 研究背景
近年、YouTube や Twitch に代表されるライブ配信プラットフォームは、娯楽から教育、スポーツ観戦に至るまで幅広い分野で利用され、オンライン上の主要なコミュニケーション手段として急速に普及している。特に Twitch はゲーム配信を中心に活発なコミュニティを形成しており、視聴者が配信者へコメントを投稿することで、双方向的かつリアルタイムな交流が可能となっている。このようなリアルタイム性はライブ配信の魅力の一つであるが、その一方でコメント欄には暴言、差別発言、過度な煽り、スパムなどの有害コメント（toxic comments） が混在し、配信者や視聴者の心理的負担を増大させる問題が指摘されている。

有害コメントの放置は、配信者の精神的ストレスの増加、コミュニティの治安悪化、視聴者離れなどを引き起こす可能性があり、適切なモデレーションはプラットフォーム運営にとって極めて重要である。しかし、人気配信者のコメント欄では 1 秒間に多数の投稿が流れることも珍しくなく、配信者自身や人力のモデレーターのみで対応することは限界がある。これを受けて Twitch では AutoMod という自動モデレーション機能を提供しているが、AutoMod はブラックボックスで動作が公開されておらず、日本語特有のスラングや崩し言葉への対応が十分ではないと指摘されている。また、誤検知（無害なコメントをブロックする）や見逃し（有害コメントを通してしまう）が発生するケースも報告されている。

特に日本語の Twitch コメントは、ネットスラング、ゲーム特有の表現、煽り・罵倒語、漢字・ひらがな・カタカナが混在した表現、意図的に文字を崩した言い回しなどが多く、従来の単純なキーワードベースのフィルタリングでは十分に対応できない。さらに、Twitch では emote（スタンプ）の使用や、短文・断片的なメッセージが多いことも検知精度に影響を与える要因となっている。

以上の背景から、日本語の Twitch コメントに特化した有害コメント検知手法の研究と、その精度を既存の AutoMod と比較すること には学術的・実用的な意義がある。本研究では、実際の Twitch コメントを取得し、有害コメントの定義とアノテーションを行った上で、ルールベース手法および機械学習を用いた検知手法を構築する。そして、提案システムと AutoMod の性能を比較し、日本語コメントにおける有害表現の特徴と自動検知の可能性を検証することを目的とする。


\section{研究の目的}
% 研究背景を受けて，問題点と解決案を提示すうる
本研究の目的は、Twitch をはじめとするライブ配信プラットフォームにおける日本語コメントのモデレーション精度を向上させるために、日本語特有の表現に対応した有害コメント検知手法を構築し、その有効性を検証することにある。

既存の Twitch AutoMod は配信者に広く利用されているが、その動作はブラックボックスであり、日本語特有の文体やスラングに対して十分に対応できていないといった課題がある。特に、
「煽り言葉」「崩し言葉」などの曖昧な表現やゲーム文化に依存した文脈、意図的な文字変形や伏字、短文・断片的メッセージの多発といった日本語コメント特有の特徴は、既存の自動モデレーションでは誤検知や見逃しに繋がりやすい。
これらの問題を踏まえ、本研究では以下の3点を具体的な研究目標として設定する。

1. Twitchから取得したコメントを対象に、日本語特有の有害表現を検知する手法を設計すること

2. NGワード辞書・ルールベース・機械学習モデルを用いた検知システムを実装すること

3. 提案システムとAutoModとの比較実験を行い、検知率・誤検知率・見逃し率を評価すること

これにより、日本語のネットスラングや煽り表現に対応した、Twitch配信向けの高精度な有害コメント検知手法の有用性を明らかにする。


\section{関連研究}
% 他の人が行っている研究は何か
有害コメント検知に関する研究はこれまでに多く行われているが、その多くは英語圏の SNS を対象としており、日本語のライブ配信チャットに特化した研究は限定的である。本章では、本研究に特に関連の深い (1) 日本語ライブ配信チャットを対象とした有害コメント検知の研究、および (2) ライブ配信チャットの特性に着目した研究について概説する。\\

\subsection{日本語ライブ配信チャットを対象とした有害コメント検定}

大川ら（2022）は、ライブ配信サービスにおける日本語チャットを対象とし、計算コストを抑えつつ有害コメント検知を実現するスタッキング手法を提案している。彼らの手法は first-stage に fastText、second-stage に LightGBM を用いる二段構成モデルとなっており、GPU を必要としない高速な推論を可能としている。この研究は、日本語ライブ配信コメントに特有の短文・スラング・文体の揺れなどを考慮した実運用志向のアプローチであり、日本語環境に特化した有害コメント検知として貴重な先行研究である。

しかし、この研究では Twitch に特有の要素（例：emote、ゲーム特有の用語、荒らしの連投パターンなど）が十分に扱われておらず、またモデルの構造上、深い文脈依存表現の理解には限界がある。そのため、より多様な表現・文脈の理解を必要とする有害コメント検知には追加的な工夫が必要であることが示唆される。

本研究は、日本語特化という点ではこの先行研究と共通するが、Twitch のチャット文化やコメント形式（短文、スラング、絵文字、崩し言葉、文脈の連続性など）をより詳細に扱う点に特徴がある。また、ルールベースと機械学習モデルを組み合わせたハイブリッド構成とし、AutoMod との直接比較を行う点で独自性をもつ。\\

\subsection{ライブ配信チャットの特性を扱った研究}

Moon ら（2023）は、YouTube や Twitch などのライブストリーミングにおけるチャットを対象として、「norm violation（規範違反）」に関する分析を行っている。この研究では、ライブ配信チャットが一般的な SNS や掲示板と異なり、リアルタイム性が高く、スレッド構造を持たず、短文や断片的な発話が多いという特徴を指摘している。特に、直前のメッセージとの関係性や、視聴者集団の盛り上がりが文脈を形成するなど、ライブ配信に固有の会話構造が有害コメント検知の難易度を高める要因であると報告している。

さらに、既存の判定モデルは SNS や長文コメントを前提としているため、ライブ配信の短文・高速チャットに適用すると性能が低下することが示されている。これは、ライブ配信という環境では、文脈が流動的かつ断片的であるため、テキスト単独の分類が困難になることを意味している。

本研究は、この先行研究が示した「ライブ配信チャット特有の難しさ」を踏まえ、Twitch コメントを対象に特化したルール設計や、短文・スラング・文脈の揺れに対応した検知手法の構築を試みている。また、AutoMod はこうした文脈を十分に考慮できていない可能性があるため、Twitch の文化的背景に即した独自検知器の必要性を裏付ける根拠としても本先行研究は有用である。


\section{システムの実装}% 場合によっては「教材の内容」とか
\subsection{実験条件}
本研究では、YouTubeコメントに対して有害性ラベルを付与したデータセットを使用し、コメント本文を分類する2値分類モデルを構築した。
前処理として、改行の正規化およびURL置換を行い、文字n-gram（2〜4）によるTF-IDF特徴を採用した。
学習モデルにはLinear SVM（LinearSVC）を用いた。
学習データは80/20に分割し、ラベル比率が偏らないよう層化抽出を行った。

\subsection{section}
本システムでは、実行時に対象動画IDを入力することで、
任意の動画に対してコメント収集を行える設計とした。

取得したコメントデータは、実験管理のため、
実行時に指定された動画IDごとにCSVファイルとして出力ディレクトリへ保存した。







\renewcommand{\lstlistingname}{ソースコード}
\begin{lstlisting}[language=java, caption=色の塗り替えを行うソースコード,label=MainPU]

\end{lstlisting}

\section{評価・実験}
本章では、本研究で構築した有害コメント検知システムの性能を定量的・定性的に評価するための実験方法を示す。Twitch から収集した日本語コメントを対象として、AutoMod との比較実験を行い、提案手法の有効性を検証する。

\subsection{実装データ準備}
(1) コメント収集

Twitch API（IRC / Helix / PubSub）を用いて、特定の配信チャンネルから以下の情報を含むコメントを収集する。\\
・コメント本文\\
・タイムスタンプ\\
・投稿者ID（匿名化）\\
合計 約〜〜〜〜件 のコメントを取得する。
(2)有害コメントの定義とアノテーション
評価に使用するための「正解データ」を作成する。\\
有害カテゴリの例\\
侮辱、差別・憎悪表現、過度な煽り、性的ハラスメント、脅迫、スパム（URL連投など）\\
これらの定義に基づき、複数名（2〜3名）のアノテータによって 有害 / 無害 の二値ラベルを付与する。\\
● 一致率の評価

アノテータ間の一致度は Cohen’s Kappa を用いて算出する。\\
（例：κ = 0.72 なら「十分一致」）

これにより信頼性のある正解データを確保する。
\subsection{比較対象}
提案手法は以下の既存手法と比較する：\\

(1) Twitch AutoMod\\

Twitchプラットフォーム標準の自動モデレーション

外部から詳細仕様は不明（ブラックボックス）

API にコメントを送信することで「許可 / 保留 / ブロック」の判定が得られる\\

(2) キーワードベース（NGワード方式）\\

よく使われる有害語彙リスト（スラング・暴言）による単純一致

検出漏れが多いためベースラインとして適切

これらを比較対象とすることで、提案手法の優位性を明確にできる。

\subsection{評価指標}
性能比較には以下の一般的な分類タスク指標をしようする。

(1)適合率(Precision)
検出したコメントのうち、正しく有害であった割合
$$Precision = TP/TP+FP$$

(2)再現率(Recall)
有害コメントのうち、検出できた割合
$$Recall = TP/TP+FN$$

(3)F1-score
PrecisionとRecallの調和平均
F1 = 2・(Precision*Recall/Precision+Recall)

(4)誤検知率(False Positive Rate)
無害なのに有害と判定してしまった割合

(5)見逃し率(False Negative Rate)
有害なのに検出できなかった割合


\subsection{実験手順}

以下の手順で評価実験を行う。

\begin{enumerate}
    \item データセットの分割 \\
    収集したコメントデータをシャッフルした後，訓練データ80\%，テストデータ20\%に分割する．
    偏りを避けるため，ランダムに分割を行う．

    \item AutoMod の判定取得 \\
    テストデータの各コメントを Twitch AutoMod API に送信し，「許可」「保留」「ブロック」などの結果を取得する．
    「ブロック」「保留」を AutoMod による有害判定とみなす．

    \item 提案システムによる判定 \\
    同じテストデータに対して，提案する NGワード辞書，ルールベース，機械学習モデルを用いた有害判定を実行し，結果を記録する．

    \item 正解データ（アノテーション）との比較 \\
    人手アノテーションによる正解ラベルと各方式（AutoMod，提案システム）の判定を比較し，
    混同行列（Confusion Matrix）を作成する．
    Precision, Recall, F1-score を算出し，方式間で比較する．
\end{enumerate}

\subsection{定性的評価}

定量的な指標に加えて，具体的なコメント例を用いた定性的評価も行う．
これにより，各方式がどのようなコメントを誤検知，または見逃したのかを明確にできる.

\begin{itemize}
    \item AutoMod が見逃したが，提案システムが正しく検知した例
    \item AutoMod が誤って有害と判定したが，実際には無害であった例
    \item 日本語特有のスラング・煽り表現に対する検知の違い
    \item 文脈依存の表現（例：「雑魚」「弱すぎ」など）の扱い
\end{itemize}．


\subsection{評価方法のまとめ}

本章で述べた評価方法により，以下の点を検証できる。

\begin{itemize}
    \item 提案システムが AutoMod と比較して有害コメント検出率（Recall）を向上させられるか
    \item 誤検知率（False Positive Rate）がどの程度抑えられているか
    \item 日本語特有のスラング・煽り表現に対して提案システムがより適切に対応できるか
    \item AutoMod の見逃しや誤検知の傾向と，それに対する提案手法の有効性
\end{itemize}

以上により，Twitch における日本語有害コメント検知に対して，
提案手法の有効性を客観的に示すことができる．




\section{結果・考察}

\section{まとめ}
本研究では，日本語の Twitch ライブ配信コメントを対象として，有害コメント検知システムの構築および評価を行った。Twitch API を用いて実際のコメントデータを収集し，人手アノテーションによる正解データを作成した上で，NG ワード辞書，ルールベース，機械学習モデルを組み合わせた検知手法を提案した。

評価実験の結果，提案システムは Twitch AutoMod と比較して有害コメントの検出率を向上させ，日本語特有のスラングや煽り表現に対してより柔軟に対応できることが確認された。一方で，文脈依存表現に起因する誤検知も見られ，テキスト単体の分類手法には限界があることが示唆された。

今後の課題としては，直前のコメント履歴や配信ジャンルといった文脈情報を考慮したモデルの導入，アノテーションデータの拡充，およびリアルタイム運用を想定した高速化・軽量化が挙げられる。これらを改善することで，ライブ配信環境におけるより実用的な日本語有害コメント検知システムの実現が期待される。



\begin{thebibliography}{99}%%参考文献
%%数字は件数に応じて変えるが，多くの場合"99"で問題ないはず．
% 本文中では\cite{sugoroku}のように参照する
\bibitem{automod}"Silencing Empowerment, Allowing Bigotry: Auditing the Moderation of Hate Speech on Twitch",https://arxiv.org/pdf/2506.07667,発行日:2025/6/10

\bibitem{sugoroku}加藤康子,"絵双六に見られる庶民文化の空間",https://www.jstage.jst.go.jp/article/nihonbungaku/
53/10/53\_KJ00009721728/\_pdf/-char/ja,発行日:2004.10.10
\bibitem{ver}"株式会社ピチカートデザイン PIZZICATO DESIGN, INC. 運営JELLY JELLY CAFE",https://jellyjellycafe.com/games/verflixxt,2021.1.19アクセス
\bibitem{monopori}"日本モノポリー協会　ルール",https://monopoly-championship.jp/rule.html,2021.1.19アクセス
\bibitem{itasuto}"株式会社スクウェア・エニックス いただきストリート ドラゴンクエスト＆ファイナルファンタジー 30th ANNIVERSARY公式サイト",http://www.jp.square-enix.com/itastDQFF30th/about/index.html,2021.1.19アクセス
\bibitem{momotetu}"コナミホールディングス株式会社 桃太郎電鉄～昭和 平成 令和も定番!～公式サイト",https://www.konami.com/games/momotetsu/teiban/,2021.1.19アクセス
\bibitem{nyuraru}"ニューラルネットワークとは｜仕組み・学習手法・活用事例・ディープラーニングとの違い",https://ledge.ai/neural-network/,2021.1.6アクセス
\bibitem{pfn}"株式会社Preferred Networksホームページ",https://preferred.jp/ja/projects/chainer/,2021.1.5
\end{thebibliography}




\end{document}